apiVersion: hazelcast.com/v1alpha1
kind: Hazelcast
metadata:
  name: {{ .Values.hazelcast.cluster.name }}
spec:
  clusterSize: {{ .Values.hazelcast.cluster.size }}
  clusterName: {{ .Values.hazelcast.cluster.name }}
  repository: {{ .Values.hazelcast.repository }}
  version: {{ .Values.hazelcast.repository }}
  licenseKeySecretName: {{ .Release.Name }}-license-key
---
apiVersion: hazelcast.com/v1alpha1
kind: ManagementCenter
metadata:
  name: {{ .Values.hazelcast.cluster.name }}-mc
spec:
  repository: 'hazelcast/management-center'
  version: '5.9.0'
  licenseKeySecretName: {{ .Release.Name }}-license-key
  externalConnectivity:
    type: LoadBalancer
  hazelcastClusters:
  - address: {{ .Values.hazelcast.cluster.name }}.{{ .Release.Namespace }}:5701
    name: {{ .Values.hazelcast.cluster.name }}